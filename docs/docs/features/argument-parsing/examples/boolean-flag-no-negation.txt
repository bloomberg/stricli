import { buildCommand, type CommandContext } from "@stricli/core";

interface Flags {
  enableFeature: boolean;
}

export const root = buildCommand({
  func(this: CommandContext, { enableFeature }: Flags) {
    this.process.stdout.write(
      enableFeature ? "Feature is enabled" : "Feature is disabled"
    );
  },
  parameters: {
    flags: {
      enableFeature: {
        kind: "boolean",
        brief: "Enable the experimental feature",
        default: true,
        withNegated: false,
      },
    },
  },
  docs: {
    brief: "Example for boolean flag with withNegated=false",
    customUsage: [
      { input: "", brief: "Uses default value (true)" },
      { input: "--enableFeature", brief: "Explicitly enable feature" },
      { input: "--enableFeature=false", brief: "Disable feature" },
    ],
  },
});
